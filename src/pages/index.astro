---
import { Icon } from "astro-icon/components";
import Divider from "../components/divider/Divider.astro";
import ProfileImage from "../components/profile-image/ProfileImage.astro";
import Tag from "../components/tag/Tag.astro";

import Link from "../components/link/Link.astro";
import Layout from "../layouts/Layout.astro";
import Projects from "../section/Projects.astro";
import WhoIAm from "../section/WhoIAm.astro";
import Experience from "../section/Experience.astro";
import Education from "../section/Education.astro";
---

<script>
  const arrow = document.getElementById("scroll-arrow");
  const targetSection = document.querySelector("#projects"); // Adjust based on your section ID

  const observer = new IntersectionObserver(
    ([entry]) => {
      if (entry.isIntersecting) {
        arrow?.classList.add("opacity-0");
      } else {
        arrow?.classList.remove("opacity-0");
      }
    },
    { threshold: 0.1 },
  );

  if (targetSection) {
    observer.observe(targetSection);
  }
</script>

<Layout title="Hi! I'm Orion!">
  <!-- About Section -->
  <section
    class="flex flex-row flex-wrap md:flex-nowrap w-full items-center md:items-stretch justify-center lg:justify-between gap-12 md:py-20"
  >
    <div
      class="flex flex-col justify-between items-center md:items-start gap-12 scroll-content opacity-0 translate-y-10 transition-all duration-500"
    >
      <h1 class="text-5xl py-8 md:py-0">Orion&apos;s Portfolio</h1>
      <div class="flex flex-col items-center md:items-start gap-2">
        <p class="flex items-center">
          If I am not hanging out with my friends,
        </p>
        <p
          style={{
            fontWeight: "500",
            fontSize: "3rem",
            color: "rgba(var(--primary-color), 1)",
            lineHeight: "normal",
          }}
          class="flex flex-wrap items-center text-center md:text-start"
        >
          I am probably stuck between Figma and VS Code.
        </p>
      </div>
      <div class="roles flex flex-row gap-2 justify-center lg:justify-start">
        <Tag>Software Engineer</Tag>
        <Tag>UX Designer</Tag>
        <Tag>Photographer</Tag>
      </div>
    </div>
    <div class="flex-shrink-0">
      <ProfileImage alt="Orion's profile picture" width={350} />
    </div>
  </section>
  <Icon
    name="chevron-down"
    id="scroll-arrow"
    size={32}
    class="flex-shrink-0 inline animate-float-slow transition-opacity duration-500"
    aria-hidden
    color="rgba(var(--floating-color), 1)"
  />
  <Divider dividerType="tertiary" />
  <!-- Projects Section -->
  <Projects />
  <!-- Experience Section -->
  <Experience />
  <!-- Education Section -->
  <Education />
  <!-- Introduction Section -->
  <WhoIAm />
  <div class="flex gap-4 pt-12">
    <p style={{ color: "rgba(var(--primary-color), 1)", fontSize: "1.5rem" }}>
      (This website is designed and coded using <Link
        className="inline-flex"
        href="https://astro.build/"
        newTab
        underline>Astro.js!</Link
      >)
    </p>
  </div>
</Layout>
